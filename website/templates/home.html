{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
%}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Display a popup on click</title>
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js"></script>
    <style>
      body {
        margin: 0;
        padding: 0;
      }
      #map {
        position: absolute;
        top: 100px;
        bottom: 30px;
        width: 80%;
      }
    </style>
  </head>
  <body>
    <style>
      .mapboxgl-popup {
        max-width: 200px;
        font: 12px/20px "Helvetica Neue", Arial, Helvetica, sans-serif;
      }
    </style>
    <div id="map"></div>
    <script MAPBOX_SECRET_KEY={{ MAPBOX_SECRET_KEY }}>
      MAPBOX_SECRET_KEY = document.currentScript.getAttribute("MAPBOX_SECRET_KEY")
      mapboxgl.accessToken = MAPBOX_SECRET_KEY;
      const map = new mapboxgl.Map({
        container: "map",
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: "mapbox://styles/mapbox/streets-v12",
        center: [103.8198, 1.3521],
        zoom: 12,
      });

      // Create a new marker with a popup description
      var marker = new mapboxgl.Marker()
        .setLngLat([103.68540764179262, 1.3408834196588528])
        .setPopup(
          new mapboxgl.Popup().setHTML("<p> PARKINGGGG </p>"
        ))
        .addTo(map);
  
    </script>
  </body>
</html>

{% endblock %}
